```
title: "字符编码发展梳理"
date: 2021-02-20T00:38:28+08:00
tags: ["string"]
```

从 Golang 中的字符串出发，我们知道 Go 语言中 `string` 的实现是基于 `utf-8` 编码的。遍历 `string` 一般有以下两种写法：

1. 通过索引下标，去遍历字符串中每一个字节

2. 通过 for range `rune` 类型遍历字符串中每一个 `utf-8 `字符

```Golang
// 索引下标的方式    
for i := 0; i < len(str); i ++ {
        fmt.Printf("索引: %d , 十进制: %d, ASCII字符 %q \n", i, str[i], str[i])
    }
// for range, rune 的方式
    for i, ch := range str {
        fmt.Printf("索引:%d 十进制: %d, 十六进制: %X,二进制:%b, utf 码点: %U \n",i, ch, ch, ch, ch)
    }
```

- 这两者区别在那？

- 为什么 Golang 要支持这两种方式，或者说为什么 Golang 字符串的实现要基于 `utf-8` 编码

## 从 ASCII 字符编码到 UTF-8

### ASCII 字符编码

在计算机的世界中，一切数据都是以字节流的形式存在。例如下图，一个字节（8 个 bit）可以表示从 0 - 255 之间的整数。 

![image-20220221174739815](http://ganghuan.oss-cn-shenzhen.aliyuncs.com/img/image-20220221174739815-2022-02-21.png)

但是我如果想表示一个字符呢？

**字符定义**：

> 在[电脑](https://zh.wikipedia.org/wiki/電腦)和[电信](https://zh.wikipedia.org/wiki/電信)领域中，**字符**（Character）是一个[信息](https://zh.wikipedia.org/wiki/資訊)单位。对使用[字母系统](https://zh.wikipedia.org/wiki/字母系統)或[音节文字](https://zh.wikipedia.org/wiki/音節文字)等[自然语言](https://zh.wikipedia.org/wiki/自然語言)，它大约对应为一个[音位](https://zh.wikipedia.org/wiki/音位)、类音位的单位或符号。简单来讲就是一个汉字、假名、韩文字……，或是一个英文、其他西方语言的字母。字符的例子有：[字母](https://zh.wikipedia.org/wiki/字母)、[数字系统](https://zh.wikipedia.org/wiki/數字系統)或[标点符号](https://zh.wikipedia.org/wiki/標點符號)。

此时需要一个字符与整数之间的**映射关系**。例如，计算机收到一个字节zzzzzzzz
