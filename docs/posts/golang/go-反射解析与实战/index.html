<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <title>Go åå°„è§£æä¸å®æˆ˜ | å°è´ºçš„åšå®¢</title>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    
<meta name="viewport" content="width=device-width,minimum-scale=1">
<meta name="description" content="å‰è¨€ ğŸ”—æ—¥å¸¸å†™ä¸šåŠ¡æ—¶ï¼Œæˆ‘ä»¬å¾ˆå°‘ä¼šç”¨åˆ°åå°„ï¼Œå¯¼è‡´å¤§éƒ¨åˆ†äººå¯¹ go çš„åå°„è¿˜æ¯”è¾ƒé™Œç”Ÿã€‚ è™½ç„¶å¹¶ä¸æ¨èåœ¨ä¸šåŠ¡ä»£ç ä¸­å†™åå°„ä»£ç ï¼Œä½†æ˜¯äº†è§£å®ƒï¼Œèƒ½å¤Ÿè®©æˆ‘ä»¬æ›´å¥½çš„å»ç†è§£è®¸å¤šæ¡†æ¶çš„é€»è¾‘ï¼Œä»¥åŠèƒ½å¤Ÿè®©è‡ªå·±å…·å¤‡æœ‰åˆæ­¥å®ç°ä¸€ä¸ªé€šç”¨ç¬¬ä¸‰æ–¹ SDK çš„èƒ½åŠ›ã€‚
ä»€ä¹ˆæ˜¯åå°„ ğŸ”— åœ¨è®¡ç®—æœºå­¦ä¸­ï¼Œåå°„æ˜¯æŒ‡è®¡ç®—æœºç¨‹åºåœ¨è¿è¡Œæ—¶ï¼ˆruntimeï¼‰å¯ä»¥è®¿é—®ã€æ£€æµ‹å’Œä¿®æ”¹å®ƒæœ¬èº«çŠ¶æ€æˆ–è¡Œä¸ºçš„ä¸€ç§èƒ½åŠ›ã€‚ç”¨æ¯”å–»æ¥è¯´ï¼Œåå°„å°±æ˜¯ç¨‹åºåœ¨è¿è¡Œçš„æ—¶å€™èƒ½å¤Ÿâ€œè§‚å¯Ÿâ€å¹¶ä¸”ä¿®æ”¹è‡ªå·±çš„è¡Œä¸ºã€‚
 æ¥è‡ªç»´åŸºç™¾ç§‘
åœ¨ Golang ä¸­ï¼Œå…¶å®å°±æ˜¯ç¼–è¯‘æ—¶æ˜¯ interface{}ï¼Œä¸çŸ¥é“å…¶å…·ä½“çš„ç±»å‹ï¼Œè¦åœ¨è¿è¡Œä¸­åå°„è·å–ç±»å‹ã€æ›´æ–°æ£€æŸ¥ä»–ä»¬çš„å€¼ã€
æ‰§è¡Œå®ƒä»¬çš„æ–¹æ³•ï¼Œ
åå°„èƒ½å¤Ÿå¹²ä»€ä¹ˆ ğŸ”—åå°„æ˜¯å…ƒç¼–ç¨‹çš„ä¸€ä¸ªå…³é”®ç­–ç•¥
 java spring golang json åºåˆ—åŒ–ä¸ååºåˆ—åŒ– go orm æ¡†æ¶ &hellip;  åå°„çš„ç¼ºç‚¹ ğŸ”— æ€§èƒ½ å¯è¯»æ€§ go ä½œä¸ºé™æ€è¯­è¨€ï¼Œç¼–è¯‘æ—¶èƒ½æ£€æŸ¥å‡ºä¸å°‘é—®é¢˜ï¼Œä½†åå°„è·³è¿‡è¿™æ£€æŸ¥ï¼Œå¯èƒ½åœ¨è¿è¡Œä¸­ panic  Golang åå°„è§£æ ğŸ”—è¦ææ¸…æ¥šåå°„ï¼Œå¾—å…ˆç®€è¦äº†è§£ä¸€ä¸‹ interface
Interface ğŸ”—å®šä¹‰ ğŸ”—æ¥å£æœ‰ä¸¤ç§å®šä¹‰ï¼š
  eface: ç©ºæ¥å£å®šä¹‰, åŒ…å«å…·ä½“ç±»å‹ä¸æ•°æ®
  iface: éç©ºæ¥å£å®šä¹‰ï¼ˆå®ç°äº†æ–¹æ³•çš„æ¥å£ï¼‰ï¼Œ
  // ä½äº src/runtime/runtime2.go type eface struct { _type *_type	// å…·ä½“çš„ç±»å‹ 	data unsafe.Pointer	// æ•°æ® } type iface struct { tab *itab	// æŒ‡å‘itab çš„æŒ‡é’ˆ 	data unsafe.">
<meta name="generator" content="Hugo 0.89.2" />


  <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="stylesheet" href="/xiaohe-blog/css/style.css">



<link rel="shortcut icon" href="/xiaohe-blog/images/favicon.ico" type="image/x-icon" />

 
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-FY1WNXTY3L', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>







  </head>

  <body>
    <nav class="navigation">
	
		<a href="/xiaohe-blog/"> <span class="arrow">â†</span>é¦–é¡µ</a>
	
	<a href="/xiaohe-blog/posts">å½’æ¡£</a>
	<a href="/xiaohe-blog/tags">æ ‡ç­¾</a>
	<a href="/xiaohe-blog/about">å…³äº</a>

	
		<a href="/xiaohe-blog/%e7%ae%97%e6%b3%95">ç®—æ³•</a>
	
		<a href="/xiaohe-blog/%e6%9d%82%e8%b0%88">æ‚è°ˆ</a>
	

	
</nav>


    <main class="main">
      

<section id="single">
    <h1 class="title">Go åå°„è§£æä¸å®æˆ˜</h1>

    <div class="tip">
      <div>2021å¹´8æœˆ30æ—¥</div>
        <span class="split">
          Â·
        </span>
        <span>
          1095å­—
        </span>
        <span class="split">
          Â·
        </span>
        <span>
          6åˆ†é’Ÿ è¯»å®Œ
        </span>
        <div class="views">
          <span class="views">
              <img src="https://visitor-badge.glitch.me/badge?page_id=https%3a%2f%2fhe2121.github.io%2fxiaohe-blog%2fposts%2fgolang%2fgo-%25E5%258F%258D%25E5%25B0%2584%25E8%25A7%25A3%25E6%259E%2590%25E4%25B8%258E%25E5%25AE%259E%25E6%2588%2598%2f" alt="Views"/>
          </span>
      </div>
    </div>

    
    


    <div class="content">
      <h2 id="å‰è¨€">å‰è¨€ <a href="#%e5%89%8d%e8%a8%80" class="anchor">ğŸ”—</a></h2><p>æ—¥å¸¸å†™ä¸šåŠ¡æ—¶ï¼Œæˆ‘ä»¬å¾ˆå°‘ä¼šç”¨åˆ°åå°„ï¼Œå¯¼è‡´å¤§éƒ¨åˆ†äººå¯¹ go çš„åå°„è¿˜æ¯”è¾ƒé™Œç”Ÿã€‚
è™½ç„¶å¹¶ä¸æ¨èåœ¨ä¸šåŠ¡ä»£ç ä¸­å†™åå°„ä»£ç ï¼Œä½†æ˜¯äº†è§£å®ƒï¼Œèƒ½å¤Ÿè®©æˆ‘ä»¬æ›´å¥½çš„å»ç†è§£è®¸å¤šæ¡†æ¶çš„é€»è¾‘ï¼Œä»¥åŠèƒ½å¤Ÿè®©è‡ªå·±å…·å¤‡æœ‰åˆæ­¥å®ç°ä¸€ä¸ªé€šç”¨ç¬¬ä¸‰æ–¹ SDK çš„èƒ½åŠ›ã€‚</p>
<h4 id="ä»€ä¹ˆæ˜¯åå°„">ä»€ä¹ˆæ˜¯åå°„ <a href="#%e4%bb%80%e4%b9%88%e6%98%af%e5%8f%8d%e5%b0%84" class="anchor">ğŸ”—</a></h4><blockquote>
<p>åœ¨è®¡ç®—æœºå­¦ä¸­ï¼Œåå°„æ˜¯æŒ‡è®¡ç®—æœºç¨‹åºåœ¨è¿è¡Œæ—¶ï¼ˆruntimeï¼‰å¯ä»¥è®¿é—®ã€æ£€æµ‹å’Œä¿®æ”¹å®ƒæœ¬èº«çŠ¶æ€æˆ–è¡Œä¸ºçš„ä¸€ç§èƒ½åŠ›ã€‚ç”¨æ¯”å–»æ¥è¯´ï¼Œåå°„å°±æ˜¯ç¨‹åºåœ¨è¿è¡Œçš„æ—¶å€™èƒ½å¤Ÿâ€œè§‚å¯Ÿâ€å¹¶ä¸”ä¿®æ”¹è‡ªå·±çš„è¡Œä¸ºã€‚</p>
</blockquote>
<p>æ¥è‡ªç»´åŸºç™¾ç§‘</p>
<p>åœ¨ Golang ä¸­ï¼Œå…¶å®å°±æ˜¯ç¼–è¯‘æ—¶æ˜¯ interface{}ï¼Œä¸çŸ¥é“å…¶å…·ä½“çš„ç±»å‹ï¼Œè¦åœ¨è¿è¡Œä¸­åå°„è·å–ç±»å‹ã€æ›´æ–°æ£€æŸ¥ä»–ä»¬çš„å€¼ã€</p>
<p>æ‰§è¡Œå®ƒä»¬çš„æ–¹æ³•ï¼Œ</p>
<h4 id="åå°„èƒ½å¤Ÿå¹²ä»€ä¹ˆ">åå°„èƒ½å¤Ÿå¹²ä»€ä¹ˆ <a href="#%e5%8f%8d%e5%b0%84%e8%83%bd%e5%a4%9f%e5%b9%b2%e4%bb%80%e4%b9%88" class="anchor">ğŸ”—</a></h4><p>åå°„æ˜¯å…ƒç¼–ç¨‹çš„ä¸€ä¸ªå…³é”®ç­–ç•¥</p>
<ul>
<li>java spring</li>
<li>golang json åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</li>
<li>go orm æ¡†æ¶</li>
<li>&hellip;</li>
</ul>
<h4 id="åå°„çš„ç¼ºç‚¹">åå°„çš„ç¼ºç‚¹ <a href="#%e5%8f%8d%e5%b0%84%e7%9a%84%e7%bc%ba%e7%82%b9" class="anchor">ğŸ”—</a></h4><ul>
<li>æ€§èƒ½</li>
<li>å¯è¯»æ€§</li>
<li>go ä½œä¸ºé™æ€è¯­è¨€ï¼Œç¼–è¯‘æ—¶èƒ½æ£€æŸ¥å‡ºä¸å°‘é—®é¢˜ï¼Œä½†åå°„è·³è¿‡è¿™æ£€æŸ¥ï¼Œå¯èƒ½åœ¨è¿è¡Œä¸­ panic</li>
</ul>
<h2 id="golang-åå°„è§£æ">Golang åå°„è§£æ <a href="#golang-%e5%8f%8d%e5%b0%84%e8%a7%a3%e6%9e%90" class="anchor">ğŸ”—</a></h2><p>è¦ææ¸…æ¥šåå°„ï¼Œå¾—å…ˆç®€è¦äº†è§£ä¸€ä¸‹ interface</p>
<h3 id="interface">Interface <a href="#interface" class="anchor">ğŸ”—</a></h3><h4 id="å®šä¹‰">å®šä¹‰ <a href="#%e5%ae%9a%e4%b9%89" class="anchor">ğŸ”—</a></h4><p>æ¥å£æœ‰ä¸¤ç§å®šä¹‰ï¼š</p>
<ul>
<li>
<p>eface: ç©ºæ¥å£å®šä¹‰, åŒ…å«å…·ä½“ç±»å‹ä¸æ•°æ®</p>
</li>
<li>
<p>iface:  éç©ºæ¥å£å®šä¹‰ï¼ˆå®ç°äº†æ–¹æ³•çš„æ¥å£ï¼‰ï¼Œ</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// ä½äº src/runtime/runtime2.go
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">eface</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">_type</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">_type</span>					<span style="color:#75715e">// å…·ä½“çš„ç±»å‹
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">data</span>  <span style="color:#a6e22e">unsafe</span>.<span style="color:#a6e22e">Pointer</span>			<span style="color:#75715e">// æ•°æ®
</span><span style="color:#75715e"></span>}
<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">iface</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">tab</span>  <span style="color:#f92672">*</span><span style="color:#a6e22e">itab</span>					<span style="color:#75715e">// æŒ‡å‘itab çš„æŒ‡é’ˆ
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">data</span> <span style="color:#a6e22e">unsafe</span>.<span style="color:#a6e22e">Pointer</span>			<span style="color:#75715e">// æ•°æ®
</span><span style="color:#75715e"></span>}

</code></pre></div><p>_type å°±æ˜¯æ‰€æœ‰ç±»å‹æœ€åŸå§‹çš„å…ƒä¿¡æ¯</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_type</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">size</span>       <span style="color:#66d9ef">uintptr</span> 		<span style="color:#75715e">// ç±»å‹å ç”¨å†…å­˜å¤§å°
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">ptrdata</span>    <span style="color:#66d9ef">uintptr</span>
	<span style="color:#a6e22e">hash</span>       <span style="color:#66d9ef">uint32</span>
	<span style="color:#a6e22e">tflag</span>      	<span style="color:#a6e22e">tflag</span>   	  <span style="color:#75715e">// æ ‡è®°ä½ï¼Œä¸»è¦ç”¨äºåå°„
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">align</span>      <span style="color:#66d9ef">uint8</span>   		<span style="color:#75715e">// å¯¹é½å­—èŠ‚ä¿¡æ¯
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fieldAlign</span> 	<span style="color:#66d9ef">uint8</span>   
	<span style="color:#a6e22e">kind</span>       <span style="color:#66d9ef">uint8</span>   		<span style="color:#75715e">// åŸºç¡€ç±»å‹æšä¸¾å€¼,  26 ä¸ªåŸºç¡€ç±»å‹, intï¼Œptrï¼Œstructï¼Œinterface 
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">equal</span> <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">unsafe</span>.<span style="color:#a6e22e">Pointer</span>, <span style="color:#a6e22e">unsafe</span>.<span style="color:#a6e22e">Pointer</span>) <span style="color:#66d9ef">bool</span> <span style="color:#75715e">// æ¯”è¾ƒä¸¤ä¸ªå½¢å‚å¯¹åº”å¯¹è±¡çš„ç±»å‹æ˜¯å¦ç›¸ç­‰
</span><span style="color:#75715e"></span>  <span style="color:#f92672">...</span>
}
</code></pre></div><p>iface ä¸­ itab ç›¸å¯¹å¤æ‚ï¼Œå­˜æ”¾çš„æ˜¯ç±»å‹ã€æ–¹æ³•ç­‰ä¿¡æ¯</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// ä½äº src/runtime/iface.go
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">itab</span> <span style="color:#66d9ef">struct</span> {
    <span style="color:#a6e22e">inter</span>  <span style="color:#f92672">*</span><span style="color:#a6e22e">interfacetype</span>	<span style="color:#75715e">// åŒ…è£…äº†ä¸€å±‚*_typeï¼Œä»£è¡¨æ¥å£ç±»å‹ï¼Œgo ä¸­ ä¸­åŸºç¡€ç±»å‹sliceï¼Œchan çš„ç±»å‹ éƒ½æœ‰å®šä¹‰ï¼Œå¹¶ä¸”éƒ½æ˜¯åŒ…è£…äº†ä¸€å±‚*_type
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">_type</span>  <span style="color:#f92672">*</span><span style="color:#a6e22e">_type</span>			<span style="color:#75715e">// ç­‰åŒäº eface ä¸­çš„ *_type, å…·ä½“å¯¹è±¡çš„ç±»å‹
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">link</span>   <span style="color:#f92672">*</span><span style="color:#a6e22e">itab</span>
    <span style="color:#a6e22e">bad</span>    <span style="color:#66d9ef">int32</span>
    <span style="color:#a6e22e">inhash</span> <span style="color:#66d9ef">int32</span>      		<span style="color:#75715e">// has this itab been added to hash?
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">fun</span>    [<span style="color:#ae81ff">1</span>]<span style="color:#66d9ef">uintptr</span> 		<span style="color:#75715e">// è¿™é‡Œå­˜çš„æ˜¯æŒ‡å‘ç¬¬ä¸€ä¸ªæ–¹æ³•çš„æŒ‡é’ˆï¼Œå…¶ä»–æ–¹æ³•åœ¨è¿™ä¸ªåœ°å€åæŒ‰å­—å…¸åºå­˜å‚¨ï¼Œåç§»é‡å³å¯
</span><span style="color:#75715e"></span>}
</code></pre></div><h4 id="å„ç§åŸºç¡€ç±»å‹çš„ç±»å‹">å„ç§åŸºç¡€ç±»å‹çš„ç±»å‹ <a href="#%e5%90%84%e7%a7%8d%e5%9f%ba%e7%a1%80%e7%b1%bb%e5%9e%8b%e7%9a%84%e7%b1%bb%e5%9e%8b" class="anchor">ğŸ”—</a></h4><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// ä½äº src/runtime/type.go
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">interfacetype</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">typ</span>     <span style="color:#a6e22e">_type</span>
	<span style="color:#a6e22e">pkgpath</span> <span style="color:#a6e22e">name</span>		<span style="color:#75715e">// åŒ…è·¯å¾„
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">mhdr</span>    []<span style="color:#a6e22e">imethod</span>	<span style="color:#75715e">// æ–¹æ³•
</span><span style="color:#75715e"></span>}

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">arraytype</span> <span style="color:#66d9ef">struct</span> {
    <span style="color:#a6e22e">typ</span>   <span style="color:#a6e22e">_type</span>
    <span style="color:#a6e22e">elem</span>  <span style="color:#f92672">*</span><span style="color:#a6e22e">_type</span>	<span style="color:#75715e">// array ä¸Šå…·ä½“å…ƒç´ çš„ç±»å‹
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">slice</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">_type</span>
    <span style="color:#a6e22e">len</span>   <span style="color:#66d9ef">uintptr</span>
}

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">chantype</span> <span style="color:#66d9ef">struct</span> {
    <span style="color:#a6e22e">typ</span>  <span style="color:#a6e22e">_type</span>
    <span style="color:#a6e22e">elem</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">_type</span>		<span style="color:#75715e">// channel ä¸Šå…·ä½“å…ƒç´ çš„ç±»å‹
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">dir</span>  <span style="color:#66d9ef">uintptr</span>
}
<span style="color:#75715e">// ...
</span></code></pre></div><h4 id="interface-æ€»ç»“">Interface æ€»ç»“ <a href="#interface-%e6%80%bb%e7%bb%93" class="anchor">ğŸ”—</a></h4><p>ä¸€ä¸ªå…·ä½“çš„å¯¹è±¡è½¬æ¢æˆ interfaceåï¼Œ<strong>ç±»å‹ä¿¡æ¯ä¸æ•°æ®ä¼šåˆ†åˆ«å­˜åœ¨åœ¨ _typeï¼Œdata ä¸¤ä¸ªæŒ‡é’ˆä¸­ï¼Œä¸ä¼šä¸¢å¤±ä¿¡æ¯</strong>ï¼ˆæ‰€ä»¥åé¢åå°„èƒ½å¤Ÿè¿˜åŸå‡ºå®é™…å¯¹è±¡ï¼‰ï¼Œå¦‚æœè¿™ä¸ªå…·ä½“çš„å¯¹è±¡è¿˜å®ç°äº†ä¸€äº›æ¥å£çš„å‡½æ•°ï¼Œæ–¹æ³•åˆ—è¡¨ä¿å­˜åœ¨ fun æŒ‡å‘çš„åœ°å€ã€‚</p>
<p>ä½¿ç”¨ interface è¿˜æœ‰ä¸€ä¸ªå¸¸è§çš„å‘ï¼š åˆ¤æ–­ä¸€ä¸ª interface æ˜¯ä¸æ˜¯ nilï¼Œåªè¦ç±»å‹ä¿¡æ¯ä¸ä¸ºç©ºï¼Œåˆ™è¿™ä¸ª interface != nil</p>
<h3 id="åå°„">åå°„ <a href="#%e5%8f%8d%e5%b0%84" class="anchor">ğŸ”—</a></h3><p>æ­¤å¤„åˆ†æçš„ä»£ç éƒ½åœ¨ src/reflect åŒ…ä¸‹</p>
<p>åå°„æœ€åŸºæœ¬çš„ä¸¤ä¸ªæ–¹æ³•</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">TypeOf</span>(<span style="color:#a6e22e">i</span> <span style="color:#66d9ef">interface</span>{}) <span style="color:#a6e22e">Type</span>		<span style="color:#75715e">// å¯¹åº”ç€ interface ç»“æ„ä½“ä¸­ *_type
</span><span style="color:#75715e"></span><span style="color:#a6e22e">ValueOf</span>(<span style="color:#a6e22e">i</span> <span style="color:#66d9ef">interface</span>{}) <span style="color:#a6e22e">Value</span>	<span style="color:#75715e">// ç»“åˆäº†dataæŒ‡é’ˆä¸ *_type ç±»å‹ä¿¡æ¯
</span></code></pre></div><p>åœ¨ç»§ç»­è§£æä»£ç å‰ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ€è€ƒä»¥ä¸‹å‡ ä¸ªé—®é¢˜</p>
<ul>
<li>ä¸ºä»€ä¹ˆ Value æœ‰ Interface() (i interface{}) è€Œ Type æ²¡æœ‰</li>
<li>Kind ä¸ Type çš„åŒºåˆ«</li>
<li>æˆ‘ä»¬æœŸæœ›ä» struct é€šè¿‡åå°„è·å–åˆ°ä»€ä¹ˆä¿¡æ¯</li>
</ul>
<h4 id="type">Type <a href="#type" class="anchor">ğŸ”—</a></h4><p>åå°„åŒ…ä¸‹çš„ Type æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå…¶å€’æ•°ç¬¬ä¸¤ä¸ªæ–¹æ³• common()  rtypeå…¶å®å°±æ˜¯ä¸Šæ–‡ä¸­çš„ _type</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// ä½äº src/reflect/type.go ä¸‹
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Type</span> <span style="color:#66d9ef">interface</span> {
	<span style="color:#a6e22e">Align</span>() <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">FieldAlign</span>() <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">Method</span>(<span style="color:#66d9ef">int</span>) <span style="color:#a6e22e">Method</span>										<span style="color:#75715e">// è¿”å›ç±»å‹æ–¹æ³•é›†é‡Œçš„ç¬¬ `i` (ä¼ å…¥çš„å‚æ•°)ä¸ªæ–¹æ³•
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">MethodByName</span>(<span style="color:#66d9ef">string</span>) (<span style="color:#a6e22e">Method</span>, <span style="color:#66d9ef">bool</span>) 	<span style="color:#75715e">// é€šè¿‡åç§°è·å–æ–¹æ³•
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">NumMethod</span>() <span style="color:#66d9ef">int</span>												<span style="color:#75715e">// æ–¹æ³•ä¸ªæ•°
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">Name</span>() <span style="color:#66d9ef">string</span>													<span style="color:#75715e">// ç±»å‹åå­—
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">Size</span>() <span style="color:#66d9ef">uintptr</span>
	<span style="color:#a6e22e">String</span>() <span style="color:#66d9ef">string</span>
	<span style="color:#a6e22e">Kind</span>() <span style="color:#a6e22e">Kind</span>														<span style="color:#75715e">// æ‰€å±åŸºç¡€ç±»å‹
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">Implements</span>(<span style="color:#a6e22e">u</span> <span style="color:#a6e22e">Type</span>) <span style="color:#66d9ef">bool</span>
	<span style="color:#a6e22e">AssignableTo</span>(<span style="color:#a6e22e">u</span> <span style="color:#a6e22e">Type</span>) <span style="color:#66d9ef">bool</span>							
	<span style="color:#a6e22e">ConvertibleTo</span>(<span style="color:#a6e22e">u</span> <span style="color:#a6e22e">Type</span>) <span style="color:#66d9ef">bool</span>						<span style="color:#75715e">// èƒ½å¦è½¬æ¢ u
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">Comparable</span>() <span style="color:#66d9ef">bool</span>
	<span style="color:#a6e22e">Bits</span>() <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">ChanDir</span>() <span style="color:#a6e22e">ChanDir</span>											<span style="color:#75715e">// channel ç±»å‹çš„æ–¹å‘
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">IsVariadic</span>() <span style="color:#66d9ef">bool</span>
	<span style="color:#a6e22e">Elem</span>() <span style="color:#a6e22e">Type</span>														<span style="color:#75715e">// è¿”å›å†…éƒ¨å­å…ƒç´ ç±»å‹ï¼Œåªèƒ½ç”±ç±»å‹ Array, Chan, Map, Ptr, or Slice è°ƒç”¨
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">Field</span>(<span style="color:#a6e22e">i</span> <span style="color:#66d9ef">int</span>) <span style="color:#a6e22e">StructField</span>							<span style="color:#75715e">// è·å–ç»“æ„ä½“ä¸­çš„ å­—æ®µ
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">FieldByIndex</span>(<span style="color:#a6e22e">index</span> []<span style="color:#66d9ef">int</span>) <span style="color:#a6e22e">StructField</span>
	<span style="color:#a6e22e">FieldByName</span>(<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>) (<span style="color:#a6e22e">StructField</span>, <span style="color:#66d9ef">bool</span>)
	<span style="color:#a6e22e">FieldByNameFunc</span>(<span style="color:#a6e22e">match</span> <span style="color:#66d9ef">func</span>(<span style="color:#66d9ef">string</span>) <span style="color:#66d9ef">bool</span>) (<span style="color:#a6e22e">StructField</span>, <span style="color:#66d9ef">bool</span>)
	<span style="color:#a6e22e">In</span>(<span style="color:#a6e22e">i</span> <span style="color:#66d9ef">int</span>) <span style="color:#a6e22e">Type</span>
	<span style="color:#a6e22e">Key</span>() <span style="color:#a6e22e">Type</span>												<span style="color:#75715e">// è¿”å› map çš„ key ç±»å‹ï¼Œåªèƒ½ç”±ç±»å‹ map è°ƒç”¨
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">Len</span>() <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">NumField</span>() <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">NumIn</span>() <span style="color:#66d9ef">int</span>									<span style="color:#75715e">// å…¥å‚ä¸ªæ•°
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">NumOut</span>() <span style="color:#66d9ef">int</span>								<span style="color:#75715e">// å‡ºå‚ä¸ªæ•°
</span><span style="color:#75715e"></span>
	<span style="color:#a6e22e">Out</span>(<span style="color:#a6e22e">i</span> <span style="color:#66d9ef">int</span>) <span style="color:#a6e22e">Type</span>

	<span style="color:#a6e22e">common</span>() <span style="color:#f92672">*</span><span style="color:#a6e22e">rtype</span>							<span style="color:#75715e">// ä¸ interface ç»“æ„ä¸­ _type ä¸€ä¸€å¯¹åº”
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">uncommon</span>() <span style="color:#f92672">*</span><span style="color:#a6e22e">uncommonType</span>		<span style="color:#75715e">// ä¸ interface ç»“æ„ä¸­ itab æ‰€åŒ…å«å†…å®¹å¯¹åº”ï¼Œæ‰€å…·å¤‡çš„æ–¹æ³•ï¼ŒåŒ…å
</span><span style="color:#75715e"></span>}
</code></pre></div><p>Type çš„æ–¹æ³•æ¯”è¾ƒå¤š, ä¸ªäººè®¤ä¸ºä¸‹é¢å‡ ä¸ªæ¯”è¾ƒ<strong>å¸¸ç”¨</strong>ï¼Œå¯ä»¥ä»”ç»†å»çœ‹ä¸€ä¸‹å…·ä½“ä»£ç </p>
<ul>
<li>
<pre tabindex="0"><code>MethodByName(string) (Method, bool)  é€šè¿‡åç§°è·å–æ–¹æ³•
</code></pre></li>
<li>
<pre tabindex="0"><code>FieldByName(name string) (StructField, bool) æ ¹æ®åå­—è·å–structä¸­çš„å­—æ®µä¿¡æ¯ï¼Œå…¶ä¸­å¸¸ç”¨åˆ°å­—æ®µä¿¡æ¯åŒ…æ‹¬å­—æ®µåï¼Œç±»å‹ï¼Œtag
</code></pre></li>
<li>
<pre tabindex="0"><code>Elem() Type å¦‚æœè¿™ä¸ª type æ˜¯ Array, Chan, Map, Ptr, or Sliceï¼Œè¿”å›å…¶æŒ‡å‘çš„å…·ä½“å…ƒç´ çš„ç±»å‹
</code></pre></li>
<li>
<pre tabindex="0"><code>AssignableTo(u Type) bool åˆ¤æ–­ä¸¤ä¸ªç±»å‹çš„å€¼èƒ½å¤Ÿç›´æ¥èµ‹å€¼ï¼ˆç±»å‹ç›¸ç­‰ï¼Œæˆ–è€…å…¶ä¸­ä¸€ä¸ªç±»å‹æ²¡æœ‰å®šä¹‰ï¼‰
</code></pre></li>
<li>
<pre tabindex="0"><code>ConvertibleTo(u Type) bool åˆ¤æ–­ä¸¤ä¸ªç±»å‹ æ˜¯å¦èƒ½å¤Ÿå¼ºåˆ¶è½¬æ¢, å¦‚ Int ä¹‹é—´ï¼Œint ä¸ floatï¼Œstring ä¸ int32 èƒ½å¤Ÿè½¬æ¢ã€‚
</code></pre></li>
</ul>
<p>å…¶å® Type æ¥å£çš„ä¹‹æ‰€ä»¥å…·å¤‡è¿™ä¹ˆå¤šæ–¹æ³•ï¼Œæ˜¯ä¸ºäº†ä½¿ç”¨ä¾¿åˆ©ä¸é€šç”¨æ€§ã€‚å®é™…ä¸Šå¾ˆå¤šéƒ½æ˜¯ç‰¹å¼‚åŒ–çš„ï¼Œä¾‹å¦‚å¸¸ç”¨åˆ°çš„ Field(i int), åªæœ‰åŸºç¡€ç±»å‹ ä¸º Struct çš„æ‰èƒ½ä½¿ç”¨ï¼ŒElem() åªèƒ½ç”±ç±»å‹ Array, Chan, Map, Ptr, or Slice è°ƒç”¨, å…¶ä»–çš„ç±»å‹è°ƒç”¨ä¼šç›´æ¥ panicã€‚</p>
<p>ä¸‹é¢çš„ä»£ç å±•ç¤ºäº†struct çš„è§£æï¼Œæˆ‘ä»¬ä»¥åŠèƒ½å¤Ÿ struct å­—æ®µé‡Œé¢ å­—æ®µåã€ç±»å‹ã€tag ç­‰ä¿¡æ¯</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// ä½äº/reflect/type.go ä¸‹ struct ç±»å‹çš„ç»“æ„
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">structType</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">rtype</span>
	<span style="color:#a6e22e">pkgPath</span> <span style="color:#a6e22e">name</span>
	<span style="color:#a6e22e">fields</span>  []<span style="color:#a6e22e">structField</span> <span style="color:#75715e">// sorted by offset
</span><span style="color:#75715e"></span>}

<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">rtype</span>) <span style="color:#a6e22e">FieldByName</span>(<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>) (<span style="color:#a6e22e">StructField</span>, <span style="color:#66d9ef">bool</span>) {
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">Kind</span>() <span style="color:#f92672">!=</span> <span style="color:#a6e22e">Struct</span> {
		panic(<span style="color:#e6db74">&#34;reflect: FieldByName of non-struct type &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">String</span>())
	}
	<span style="color:#a6e22e">tt</span> <span style="color:#f92672">:=</span> (<span style="color:#f92672">*</span><span style="color:#a6e22e">structType</span>)(<span style="color:#a6e22e">unsafe</span>.<span style="color:#a6e22e">Pointer</span>(<span style="color:#a6e22e">t</span>))
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">tt</span>.<span style="color:#a6e22e">FieldByName</span>(<span style="color:#a6e22e">name</span>)
}

<span style="color:#75715e">// A StructField describes a single field in a struct.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">StructField</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">Name</span> <span style="color:#66d9ef">string</span>					<span style="color:#75715e">// å­—æ®µå
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">PkgPath</span> <span style="color:#66d9ef">string</span>			<span style="color:#75715e">// åŒ…è·¯å¾„
</span><span style="color:#75715e"></span>
	<span style="color:#a6e22e">Type</span>      <span style="color:#a6e22e">Type</span>      <span style="color:#75715e">// å­—æ®µç±»å‹
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">Tag</span>       <span style="color:#a6e22e">StructTag</span> <span style="color:#75715e">// å­—æ®µ tag
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">Offset</span>    <span style="color:#66d9ef">uintptr</span>   <span style="color:#75715e">// offset within struct, in bytes
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">Index</span>     []<span style="color:#66d9ef">int</span>     <span style="color:#75715e">// index sequence for Type.FieldByIndex
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">Anonymous</span> <span style="color:#66d9ef">bool</span>      <span style="color:#75715e">// is an embedded field
</span><span style="color:#75715e"></span>}
</code></pre></div><p><strong>æ€»ç»“</strong></p>
<p>TypeOf(i interface) è¿”å›ä¸€ä¸ªæ¥å£ï¼Œé€šè¿‡è¿™äº›æ¥å£çš„æ–¹æ³•èƒ½å¤Ÿè·å–æ‰€æœ‰ç±»å‹ä¿¡æ¯</p>
<h4 id="value">Value <a href="#value" class="anchor">ğŸ”—</a></h4><p>Value æ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œ å…¶åŒ…å«ç±»å‹ä¸æ•°æ®ä¿¡æ¯</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Value</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">typ</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">rtype</span>						<span style="color:#75715e">// ç±»å‹
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">ptr</span> <span style="color:#a6e22e">unsafe</span>.<span style="color:#a6e22e">Pointer</span>		<span style="color:#75715e">// å®é™…æ•°æ®
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">flag</span>					 				<span style="color:#75715e">// æ ‡è®°ä½
</span><span style="color:#75715e"></span>}

</code></pre></div><p>Value å¸¸ç”¨çš„æ–¹æ³•</p>
<ul>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">Type</span>() <span style="color:#a6e22e">Type</span>  <span style="color:#a6e22e">è¿”å›å…·ä½“ç±»å‹</span>
</code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">Interface</span>() (<span style="color:#a6e22e">i</span> <span style="color:#66d9ef">interface</span>{})  <span style="color:#a6e22e">value</span> <span style="color:#a6e22e">æœ‰ç±»å‹åˆæœ‰æ•°æ®</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">å¯ä»¥ç›´æ¥è½¬åŒ–æˆ</span> <span style="color:#66d9ef">interface</span>
</code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"> <span style="color:#a6e22e">MethodByName</span>(<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>) <span style="color:#a6e22e">Value</span> <span style="color:#a6e22e">è¿”å›æ–¹æ³•</span>
</code></pre></div></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">FieldByName</span>(<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>) <span style="color:#a6e22e">Value</span>	<span style="color:#a6e22e">æ ¹æ®å­—æ®µåæ‰¾å‡ºå­—æ®µå¯¹åº”çš„å€¼</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">åœ¨</span> <span style="color:#a6e22e">Type</span> <span style="color:#a6e22e">æœ‰ç±»ä¼¼çš„æ–¹æ³•</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span><span style="color:#a6e22e">ä¸è¿‡</span> <span style="color:#a6e22e">Type</span> <span style="color:#a6e22e">è¿”å›çš„æ˜¯å­—æ®µç±»å‹ä¿¡æ¯</span>
</code></pre></div></li>
<li>
<pre tabindex="0"><code>Indirect(v Value) Value	 è¿™ä¸ª value å¦‚æœæ˜¯æŒ‡é’ˆï¼Œè¿”å›å®ƒæŒ‡å‘çš„ valueï¼Œä¸æ˜¯è¿”å›æœ¬èº«ï¼Œå®é™…ä½¿ç”¨ Elem() å®ç°
</code></pre></li>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">Elem</span>() <span style="color:#a6e22e">Value</span> <span style="color:#a6e22e">è¿”å›æŒ‡å‘çš„å¯¹è±¡</span>,<span style="color:#a6e22e">å¹¶ä¸”ä¼šæ ‡è®°ä¸º</span> <span style="color:#a6e22e">addr</span><span style="color:#960050;background-color:#1e0010">ï¼Œ</span> <span style="color:#a6e22e">è¿”å›çš„</span> <span style="color:#a6e22e">value</span> <span style="color:#a6e22e">èƒ½ç”¨Addr</span>() <span style="color:#a6e22e">è·å–åœ°å€</span> 
</code></pre></div></li>
<li>
<pre tabindex="0"><code>CanSet() bool åˆ¤æ–­ value é‡Œçš„æ•°æ®èƒ½å¦è¢«æ”¹å˜ï¼Œæ»¡è¶³å¯å¯»å€çš„æ¡ä»¶ï¼ˆCanAddrï¼‰ï¼Œå¦‚æœæ˜¯å­—æ®µæ˜¯å¯¹å¤–æš´éœ²çš„ï¼ˆå­—æ®µåå¤§å†™ï¼‰
</code></pre></li>
<li>
<pre tabindex="0"><code>Convert(t Type) Value æ”¹å˜ value çš„å…·ä½“ç±»å‹ï¼Œå¯ä»¥åˆ©ç”¨ä¸Šé¢Typeä¸­æåˆ°çš„ ConvertibleToæ–¹æ³• æ¥åˆ¤æ–­æ˜¯å¦å¯ä»¥è½¬æ¢ï¼Œå¦‚int -&gt; int64
</code></pre></li>
<li>
<pre tabindex="0"><code>Call(in []Value) []Value	è°ƒç”¨ Call Value Kindå¿…é¡»æ˜¯å‡½æ•°ï¼Œç”¨ in ä½œä¸ºå‚æ•°ï¼Œè¿”å› []Value, åå°„æ‰§è¡Œæ–¹æ³•
</code></pre></li>
<li>
<p>å–å‡º value ä¸­çš„å€¼è½¬æ¢æˆå…·ä½“ç±»å‹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">Float</span>() <span style="color:#66d9ef">float64</span>	<span style="color:#a6e22e">å–å‡º</span> <span style="color:#a6e22e">floatå¾—å€¼</span>
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">Int</span>() <span style="color:#66d9ef">int64</span>	 <span style="color:#a6e22e">å–å‡º</span> <span style="color:#66d9ef">int64</span> <span style="color:#a6e22e">çš„å€¼</span>
</code></pre></div><p>&hellip;</p>
</li>
<li>
<p>æ”¹å˜ value çš„å€¼</p>
<pre tabindex="0"><code>Set(x Value) æŠŠ value é‡Œçš„å€¼è®¾ç½®æˆ xï¼Œ value æ»¡è¶³CanSet()
</code></pre><pre tabindex="0"><code>SetInt(x int64) ä½œç”¨ç±»ä¼¼
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">SetLen(n int) åˆ‡ç‰‡è®¾ç½®é•¿åº¦ï¼Œä¸æ˜¯åˆ‡ç‰‡ panic
</code></pre></div></li>
</ul>
<p><strong>æ€»ç»“</strong></p>
<p>ValueOf(i interface) è¿”å›ä¸€ä¸ªç»“æ„ä½“ï¼Œè¿™ä¸ªç»“æ„ä½“åŒ…å« &lt;ç±»å‹ï¼Œæ•°æ®&gt; ä¿¡æ¯ï¼Œ å¹¶ä¸”æä¾›äº†è®¸å¤šæ–¹æ³•ï¼Œæ¥è·å–ï¼Œä¿®æ”¹é‡Œé¢çš„ä¿¡æ¯ï¼ˆç±»å‹ï¼Œæ•°æ®ï¼‰</p>
<h2 id="ä»£ç å®æˆ˜">ä»£ç å®æˆ˜ <a href="#%e4%bb%a3%e7%a0%81%e5%ae%9e%e6%88%98" class="anchor">ğŸ”—</a></h2><h4 id="èƒ½å¦å¼€å‘ä¸€ä¸ª-copy-å‡½æ•°å®Œæˆå¯¹è±¡ä¹‹é—´çš„å¤åˆ¶å‡½æ•°">èƒ½å¦å¼€å‘ä¸€ä¸ª copy å‡½æ•°å®Œæˆå¯¹è±¡ä¹‹é—´çš„å¤åˆ¶å‡½æ•° <a href="#%e8%83%bd%e5%90%a6%e5%bc%80%e5%8f%91%e4%b8%80%e4%b8%aa-copy-%e5%87%bd%e6%95%b0%e5%ae%8c%e6%88%90%e5%af%b9%e8%b1%a1%e4%b9%8b%e9%97%b4%e7%9a%84%e5%a4%8d%e5%88%b6%e5%87%bd%e6%95%b0" class="anchor">ğŸ”—</a></h4><p>web å¼€å‘PO è½¬åŒ–æˆ DTO çš„ä»£ç å¿…ä¸å¯å°‘ï¼Œè¿™äº›ä»£ç æ¯”è¾ƒé‡å¤æ¯ç‡¥ï¼Œå†™ä¸ªæ–¹æ³•æå‡ä¸‹æ•ˆç‡</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">Copy</span>(<span style="color:#a6e22e">dest</span>, <span style="color:#a6e22e">src</span> <span style="color:#66d9ef">interface</span>{}) <span style="color:#66d9ef">error</span> {
	<span style="color:#75715e">// dest é¢„æœŸæ˜¯æŒ‡å‘å¯¹è±¡çš„ptrï¼ŒGo ä¸­æ˜¯å€¼ä¼ é€’ï¼Œä¸æ˜¯ ptr çš„è¯ï¼Œä¿®æ”¹ä¼šæ— æ•ˆ
</span><span style="color:#75715e"></span>	<span style="color:#75715e">// Indirect å¦‚æœè¿™ä¸ªå€¼æ˜¯æŒ‡é’ˆï¼Œä¼šè¿”å›æŒ‡å‘çš„å€¼ï¼Œå…¶ä¸­ flag ä¼šåŠ ä¸Š CanAddr çš„æ ‡è®°
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">destValue</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">reflect</span>.<span style="color:#a6e22e">Indirect</span>(<span style="color:#a6e22e">reflect</span>.<span style="color:#a6e22e">ValueOf</span>(<span style="color:#a6e22e">dest</span>))
	<span style="color:#66d9ef">if</span> !<span style="color:#a6e22e">destValue</span>.<span style="color:#a6e22e">CanAddr</span>() {
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Errorf</span>(<span style="color:#e6db74">&#34;dest type is not ptr&#34;</span>)
	}
	
	<span style="color:#75715e">// åå°„ src å¾—åˆ° src çš„ç±»å‹ ä¸ å¯¹è±¡å€¼
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">srcValue</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">reflect</span>.<span style="color:#a6e22e">ValueOf</span>(<span style="color:#a6e22e">src</span>)
	<span style="color:#a6e22e">srcType</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">reflect</span>.<span style="color:#a6e22e">TypeOf</span>(<span style="color:#a6e22e">src</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">srcType</span>.<span style="color:#a6e22e">Kind</span>() <span style="color:#f92672">==</span> <span style="color:#a6e22e">reflect</span>.<span style="color:#a6e22e">Ptr</span> {
		<span style="color:#a6e22e">srcType</span> = <span style="color:#a6e22e">srcType</span>.<span style="color:#a6e22e">Elem</span>()
	}
	<span style="color:#75715e">// éå† srcç±»å‹å­—æ®µ
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#a6e22e">srcType</span>.<span style="color:#a6e22e">NumField</span>(); <span style="color:#a6e22e">i</span> <span style="color:#f92672">++</span> {
		<span style="color:#a6e22e">fieldSrc</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">srcType</span>.<span style="color:#a6e22e">Field</span>(<span style="color:#a6e22e">i</span>)
		<span style="color:#75715e">// æ ¹æ® src çš„å­—æ®µå åœ¨ dest çš„ç»“æ„ä¸­æŸ¥æ‰¾
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">fieldDest</span>, <span style="color:#a6e22e">exist</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">destValue</span>.<span style="color:#a6e22e">Type</span>().<span style="color:#a6e22e">FieldByName</span>(<span style="color:#a6e22e">fieldSrc</span>.<span style="color:#a6e22e">Name</span>)
		<span style="color:#75715e">// dest ä¸å­˜åœ¨åŒåçš„å­—æ®µè·³è¿‡
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">if</span> !<span style="color:#a6e22e">exist</span> {
			<span style="color:#66d9ef">continue</span>
		}
		<span style="color:#75715e">// åˆ¤æ–­ src å­—æ®µç±»å‹èƒ½å¦è½¬åŒ–æˆ dest å­—æ®µç±»å‹
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">fieldSrc</span>.<span style="color:#a6e22e">Type</span>.<span style="color:#a6e22e">ConvertibleTo</span>(<span style="color:#a6e22e">fieldDest</span>.<span style="color:#a6e22e">Type</span>); <span style="color:#a6e22e">ok</span> {
			<span style="color:#75715e">// è·å– src value å¯¹è±¡ä¸­å…·ä½“çš„å­—æ®µå€¼ï¼Œå¹¶ä¸”è½¬æ¢æˆ dest å­—æ®µçš„ç±»å‹
</span><span style="color:#75715e"></span>			<span style="color:#a6e22e">convertValue</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">srcValue</span>.<span style="color:#a6e22e">FieldByName</span>(<span style="color:#a6e22e">fieldSrc</span>.<span style="color:#a6e22e">Name</span>).<span style="color:#a6e22e">Convert</span>(<span style="color:#a6e22e">fieldDest</span>.<span style="color:#a6e22e">Type</span>)
			<span style="color:#75715e">// è®¾ç½® dest value å¯¹è±¡çš„ç›¸åº”å­—æ®µçš„å€¼
</span><span style="color:#75715e"></span>			<span style="color:#a6e22e">destValue</span>.<span style="color:#a6e22e">FieldByName</span>(<span style="color:#a6e22e">fieldSrc</span>.<span style="color:#a6e22e">Name</span>).<span style="color:#a6e22e">Set</span>(<span style="color:#a6e22e">convertValue</span>)
		}
	}
	<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
}
</code></pre></div><p>ä¸Šé¢å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ Copy çš„ä¸»è¦ä»£ç ï¼Œä¾é å­—æ®µåå¤åˆ¶ï¼Œä¸»è¦é—®é¢˜æœ‰ä¸¤ä¸ª</p>
<ul>
<li>å®Œå…¨ä¾é å­—æ®µååŒ¹é…ï¼Œå­—æ®µåä¸ä¸€è‡´ä¸”ä¸å¥½æ”¹äº†ï¼Œèƒ½å¦å®Œæˆå¤åˆ¶</li>
<li>å­—æ®µç±»å‹è½¬æ¢å®Œå…¨ä¾é å†…ç½®çš„ConvertibleTo(u Type) bool å‡½æ•°ï¼Œå¦‚æœæˆ‘æƒ³å®Œæˆ int64 -&gt; time.time çš„å¤åˆ¶è¯¥æ€ä¹ˆåš</li>
</ul>
<p>å½“ç„¶è¿™ä¸ªä»£ç å·²ç»æœ‰æ¯”è¾ƒå¥½çš„å®ç°äº†ï¼Œè§ <a href="https://github.com/jinzhu/copier" target="_blank" rel="noopener">https://github.com/jinzhu/copier</a>, ç›®å‰ 2.2 k star, å¦‚æ­¤ç®€å•çš„æ€æƒ³ï¼Œä½†åˆå¦‚æ­¤å®ç”¨ï¼Œæ˜¯ä¸æ˜¯å¯¹åå°„çš„ä»£ç æ›´æœ‰å…´è¶£äº†å‘¢ã€‚</p>
<h4 id="orm-ä¸­éœ€è¦å¯¹æ•°æ®åº“è¡¨ä¸å®ä½“modelåšä¸€ä¸ªæ˜ å°„å¦‚ä½•å®ç°">orm ä¸­éœ€è¦å¯¹æ•°æ®åº“è¡¨ä¸å®ä½“modelåšä¸€ä¸ªæ˜ å°„ï¼Œå¦‚ä½•å®ç°ï¼Ÿ <a href="#orm-%e4%b8%ad%e9%9c%80%e8%a6%81%e5%af%b9%e6%95%b0%e6%8d%ae%e5%ba%93%e8%a1%a8%e4%b8%8e%e5%ae%9e%e4%bd%93model%e5%81%9a%e4%b8%80%e4%b8%aa%e6%98%a0%e5%b0%84%e5%a6%82%e4%bd%95%e5%ae%9e%e7%8e%b0" class="anchor">ğŸ”—</a></h4><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// Schema è§£æ model å¾—åˆ°çš„å…ƒæ•°æ®
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Schema</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">Model</span>      <span style="color:#66d9ef">interface</span>{}			<span style="color:#75715e">// å®ä½“å¯¹è±¡
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">Name</span>       <span style="color:#66d9ef">string</span>			 	<span style="color:#75715e">// å®ä½“çš„åå­—ï¼Œä½œä¸ºè¡¨å
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">Fields</span>     []<span style="color:#f92672">*</span><span style="color:#a6e22e">Field</span>				<span style="color:#75715e">// å­—æ®µåˆ—è¡¨ï¼Œè½¬åŒ–æˆ sql ä¸­ç”¨åˆ°çš„ä¿¡æ¯
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">FieldNames</span> []<span style="color:#66d9ef">string</span>				<span style="color:#75715e">// å­—æ®µååˆ—è¡¨ï¼Œè¿™é‡Œç”¨å®ä½“å­—æ®µåä½œä¸º sql ä¸­å­—æ®µå
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fieldMap</span>   <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#f92672">*</span><span style="color:#a6e22e">Field</span>	<span style="color:#75715e">// map[å­—æ®µå] å­—æ®µ
</span><span style="color:#75715e"></span>}

<span style="color:#75715e">// Field sql è¡¨ä¸­å­—æ®µ
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Field</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">Name</span> <span style="color:#66d9ef">string</span>		<span style="color:#75715e">// sql å­—æ®µå
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">Type</span> <span style="color:#66d9ef">string</span>		<span style="color:#75715e">// sql ç±»å‹ int bigint..
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">Tag</span>  <span style="color:#66d9ef">string</span>		<span style="color:#75715e">// é¢å¤–ä¿¡æ¯ï¼Œä¾‹å¦‚ primary key
</span><span style="color:#75715e"></span>}

<span style="color:#75715e">// model ä½œä¸ºä¸æ•°æ®åº“è¡¨ä¸€ä¸€å¯¹åº”çš„å®ä½“ï¼Œdialect ä»£è¡¨ä¸€ç§ç±»å‹è½¬æ¢è§„åˆ™ï¼Œä¾‹å¦‚ go -&gt; mysql ä¸­ string -&gt; varchar
</span><span style="color:#75715e">// è€Œ go -&gt; sqliteä¸­ï¼Œ string -&gt; text
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">Parse</span>(<span style="color:#a6e22e">model</span> <span style="color:#66d9ef">interface</span>{}, <span style="color:#a6e22e">dialect</span> <span style="color:#a6e22e">dialect</span>.<span style="color:#a6e22e">Dialect</span>) <span style="color:#f92672">*</span><span style="color:#a6e22e">Schema</span> {
	<span style="color:#75715e">// è·å– model çš„å®é™…ç±»å‹
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">modelType</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">reflect</span>.<span style="color:#a6e22e">Indirect</span>(<span style="color:#a6e22e">reflect</span>.<span style="color:#a6e22e">ValueOf</span>(<span style="color:#a6e22e">model</span>)).<span style="color:#a6e22e">Type</span>()
	<span style="color:#a6e22e">schema</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">Schema</span>{
		<span style="color:#a6e22e">Model</span>:    <span style="color:#a6e22e">model</span>,
		<span style="color:#a6e22e">Name</span>:     <span style="color:#a6e22e">modelType</span>.<span style="color:#a6e22e">Name</span>(),		<span style="color:#75715e">// ç±»å‹ä¿¡æ¯ä¸­ æœ‰å®ä½“åå­—
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">fieldMap</span>: <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#f92672">*</span><span style="color:#a6e22e">Field</span>{},
	}
	<span style="color:#75715e">// éå†å®ä½“ä¸­æ¯ä¸ªå­—æ®µ
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#a6e22e">modelType</span>.<span style="color:#a6e22e">NumField</span>(); <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
		<span style="color:#75715e">// å­—æ®µä¿¡æ¯
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">structField</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">modelType</span>.<span style="color:#a6e22e">Field</span>(<span style="color:#a6e22e">i</span>)
		<span style="color:#75715e">// å­—æ®µå¿…é¡»æ˜¯ä¸æ˜¯åŒ¿åçš„å’Œå¯¹å¤–æš´éœ²çš„
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">if</span> !<span style="color:#a6e22e">structField</span>.<span style="color:#a6e22e">Anonymous</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">ast</span>.<span style="color:#a6e22e">IsExported</span>(<span style="color:#a6e22e">structField</span>.<span style="color:#a6e22e">Name</span>) {
			<span style="color:#75715e">// æ ¹æ® go å¯¹è±¡ æ„å»º sql è¡¨ä¸­å­—æ®µ
</span><span style="color:#75715e"></span>			<span style="color:#a6e22e">field</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">Field</span>{
				<span style="color:#a6e22e">Name</span>: <span style="color:#a6e22e">structField</span>.<span style="color:#a6e22e">Name</span>,		<span style="color:#75715e">// å­—æ®µçš„åå­—
</span><span style="color:#75715e"></span>				<span style="color:#a6e22e">Type</span>: <span style="color:#a6e22e">dialect</span>.<span style="color:#a6e22e">DataTypeOf</span>(<span style="color:#a6e22e">reflect</span>.<span style="color:#a6e22e">Indirect</span>(<span style="color:#a6e22e">reflect</span>.<span style="color:#a6e22e">New</span>(<span style="color:#a6e22e">structField</span>.<span style="color:#a6e22e">Type</span>))),
				<span style="color:#75715e">// è¿™é‡ŒæŠŠ go ä¸­çš„ç±»å‹è½¬æ¢æˆ sql ä¸­çš„ç±»å‹ï¼Œdialect æœ‰å¤šä¸ªå®ç°ï¼Œä¾‹å¦‚ sqliteï¼Œ mysql
</span><span style="color:#75715e"></span>			}
			<span style="color:#75715e">// ä» structFiled è·å–éœ€è¦çš„ tag ä¿¡æ¯
</span><span style="color:#75715e"></span>			<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">v</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">structField</span>.<span style="color:#a6e22e">Tag</span>.<span style="color:#a6e22e">Lookup</span>(<span style="color:#e6db74">&#34;orm&#34;</span>); <span style="color:#a6e22e">ok</span> {
				<span style="color:#a6e22e">field</span>.<span style="color:#a6e22e">Tag</span> = <span style="color:#a6e22e">v</span>
			}
			<span style="color:#75715e">// å­˜å…¥ schema ä¸­
</span><span style="color:#75715e"></span>			<span style="color:#a6e22e">schema</span>.<span style="color:#a6e22e">Fields</span> = append(<span style="color:#a6e22e">schema</span>.<span style="color:#a6e22e">Fields</span>, <span style="color:#a6e22e">field</span>)
			<span style="color:#a6e22e">schema</span>.<span style="color:#a6e22e">FieldNames</span> = append(<span style="color:#a6e22e">schema</span>.<span style="color:#a6e22e">FieldNames</span>, <span style="color:#a6e22e">field</span>.<span style="color:#a6e22e">Name</span>)
			<span style="color:#a6e22e">schema</span>.<span style="color:#a6e22e">fieldMap</span>[<span style="color:#a6e22e">field</span>.<span style="color:#a6e22e">Name</span>] = <span style="color:#a6e22e">field</span>
		}
	}
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">schema</span>
}
</code></pre></div><p>ä¸Šé¢çš„ä»£ç å°±å®Œæˆäº†ä¸€ä¸ª model å¯¹è±¡å¯¹æ•°æ®åº“è¡¨çš„æ˜ å°„ï¼Œä¸»è¦æœ‰ï¼š</p>
<ul>
<li>è¡¨å -&gt; æ•°æ®åº“è¡¨å</li>
<li>å­—æ®µå -&gt; æ•°æ®åº“è¡¨å­—æ®µå</li>
<li>å­—æ®µç±»å‹ -&gt; æ•°æ®åº“è¡¨å­—æ®µçš„ç±»å‹</li>
<li>tag -&gt; å­—æ®µçš„ä¸€äº›é¢å¤–ä¿¡æ¯</li>
</ul>
<p>è¿™é‡Œçš„åŠŸèƒ½å°±æ˜¯ gorm æ¡†æ¶ <a href="https://github.com/go-gorm/gorm/blob/master/schema/schema.go" target="_blank" rel="noopener">https://github.com/go-gorm/gorm/blob/master/schema/schema.go</a> çš„æ ¸å¿ƒé€»è¾‘ï¼Œå¯¹è‡ªå·±å†™ä¸€ä¸ª orm æ˜¯ä¸æ˜¯æ›´æœ‰ä¿¡å¿ƒä¸€ç‚¹äº†å‘¢ã€‚</p>
<h4 id="è¯¾åä½œä¸š">è¯¾åä½œä¸š <a href="#%e8%af%be%e5%90%8e%e4%bd%9c%e4%b8%9a" class="anchor">ğŸ”—</a></h4><ul>
<li>
<p>reflect DeepEqual æ–¹æ³• æºä»£ç </p>
</li>
<li>
<p>json Marshal æ–¹æ³• æºä»£ç </p>
</li>
<li>
<p>govalidator è‡ªå·±å®ç°ä¸€ä¸ªå‚æ•°æ ¡éªŒçš„æ–¹æ³•ï¼Œ</p>
</li>
</ul>
<hr>
<p>ä»¥ä¸Šå°±æ˜¯å…¨éƒ¨å†…å®¹äº†</p>
<p>æœ€åå†æ¥ä¸€ä¸ªé—®é¢˜ï¼Œ 2021 å¹´åº•ï¼Œgo ä¼šåœ¨ 1.18 ç‰ˆæœ¬ä¸­æ·»åŠ æ³›å‹ï¼Œä½ ä»¬èƒ½è¯´ä¸€ä¸‹ interface ä¸ æ³›å‹çš„åŒºåˆ«å—</p>

    </div>

    
        <div class="tags">
            
                <a href="https://he2121.github.io/xiaohe-blog/tags/golang">golang</a>
            
                <a href="https://he2121.github.io/xiaohe-blog/tags/%E5%8F%8D%E5%B0%84">åå°„</a>
            
        </div>
    
    
    

</section>

<script src="https://utteranc.es/client.js"
        repo="he2121/xiaohe-blog"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>


    </main>
    
    <footer id="footer">
    
        <div id="social">


    <a class="symbol" href="https://github.com/he2121/" rel="me" target="_blank">
        
        <svg fill="#bbbbbb" width="28" height="28"  viewBox="0 0 72 72" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    
    <title>Github</title>
    <desc>Created with Sketch.</desc>
    <defs></defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="Social-Icons---Rounded-Black" transform="translate(-264.000000, -939.000000)">
            <g id="Github" transform="translate(264.000000, 939.000000)">
                <path d="M8,72 L64,72 C68.418278,72 72,68.418278 72,64 L72,8 C72,3.581722 68.418278,-8.11624501e-16 64,0 L8,0 C3.581722,8.11624501e-16 -5.41083001e-16,3.581722 0,8 L0,64 C5.41083001e-16,68.418278 3.581722,72 8,72 Z" id="Rounded" fill="#bbbbbb"></path>
                <path d="M35.9985,13 C22.746,13 12,23.7870921 12,37.096644 C12,47.7406712 18.876,56.7718301 28.4145,59.9584121 C29.6145,60.1797862 30.0525,59.4358488 30.0525,58.7973276 C30.0525,58.2250681 30.0315,56.7100863 30.0195,54.6996482 C23.343,56.1558981 21.9345,51.4693938 21.9345,51.4693938 C20.844,48.6864054 19.2705,47.9454799 19.2705,47.9454799 C17.091,46.4500754 19.4355,46.4801943 19.4355,46.4801943 C21.843,46.6503662 23.1105,48.9634994 23.1105,48.9634994 C25.2525,52.6455377 28.728,51.5823398 30.096,50.9649018 C30.3135,49.4077535 30.9345,48.3460615 31.62,47.7436831 C26.2905,47.1352808 20.688,45.0691228 20.688,35.8361671 C20.688,33.2052792 21.6225,31.0547881 23.1585,29.3696344 C22.911,28.7597262 22.0875,26.3110578 23.3925,22.9934585 C23.3925,22.9934585 25.4085,22.3459017 29.9925,25.4632101 C31.908,24.9285993 33.96,24.6620468 36.0015,24.6515052 C38.04,24.6620468 40.0935,24.9285993 42.0105,25.4632101 C46.5915,22.3459017 48.603,22.9934585 48.603,22.9934585 C49.9125,26.3110578 49.089,28.7597262 48.8415,29.3696344 C50.3805,31.0547881 51.309,33.2052792 51.309,35.8361671 C51.309,45.0917119 45.6975,47.1292571 40.3515,47.7256117 C41.2125,48.4695491 41.9805,49.9393525 41.9805,52.1877301 C41.9805,55.4089489 41.9505,58.0067059 41.9505,58.7973276 C41.9505,59.4418726 42.3825,60.1918338 43.6005,59.9554002 C53.13,56.7627944 60,47.7376593 60,37.096644 C60,23.7870921 49.254,13 35.9985,13" fill="#FFFFFF"></path>
            </g>
        </g>
    </g>
</svg>
    </a>


</div>

    

    <div class="copyright">
    
       Â© Copyright 
       2021 
       <span class="split">
        <svg fill="#bbbbbb" width="15" height="15" version="1.1" id="heart-15" xmlns="http://www.w3.org/2000/svg" width="15px" height="15px" viewBox="0 0 15 15">
  <path d="M13.91,6.75c-1.17,2.25-4.3,5.31-6.07,6.94c-0.1903,0.1718-0.4797,0.1718-0.67,0C5.39,12.06,2.26,9,1.09,6.75&#xA;&#x9;C-1.48,1.8,5-1.5,7.5,3.45C10-1.5,16.48,1.8,13.91,6.75z"/>
</svg>
       </span>
       å°è´º
    
    </div>

    
</footer>



  </body>
</html>
